@model IEnumerable<Oblig1.Models.Kunde>

<div class="container">
    <table class='table table-striped'>
        <tr>
            <th>kundeID</th>
            <th>Navn</th>
            <th>Address</th>
            <th>Fodselsdato</th>
            <th>Telefonnummer</th>
            <th>Ordre</th>
            <th>Email</th>
            <th>Actions</th>

        </tr>
        @foreach (var kunde in Model)
        {
            <tr>
                <td>@kunde.Navn</td>
                <td>@kunde.Addresse</td>
                <td>@kunde.Fodselsdato.ToString("dd/MM/yyyy")</td> 
                <td>@kunde.TelefonNmr</td> 
                <td>
                    @if (kunde.ordreListe != null && kunde.ordreListe.Any())
                    {
                        @string.Join(", ", kunde.ordreListe.Select(order => $"Order{order.ordreId}"))
                    }
                    else
                    {
                        <text>Ingen Ordre knyttet</text>
                    }
                </td>
                <td>@kunde.Email</td> 
                <td>
                    
                    <a asp-action="endreBekreftet" asp-route-id="@kunde.personID">Endre</a> |
                    <a asp-action="slettBekreftet" asp-route-id="@kunde.personID">Delete</a>
                </td>
            </tr>
        }
    </table>
</div>